{"mappings":"YAEA,IASMA,EAAO,SAAAC,GACT,IACI,IAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,GAC3D,MAAOM,GACLC,QAAQD,MAAM,oBAAqBA,EAAME,WAI3CC,EAAoB,sBACpBC,EAASC,SAASC,cAAc,mBAEtC,WACI,GAAIX,aAAaC,QAAQO,GAGrB,OAFAC,EAAOG,MAAMC,MAAQhB,EAAKW,GAAmBI,WAC7CH,EAAOF,QAAQM,MAAQhB,EAAKW,GAAmBD,SAGnDE,EAAOG,MAAMC,MAAQ,GACrBJ,EAAOF,QAAQM,MAAQ,GAe3BC,GAEAL,EAAOM,iBAAiB,SAdxB,YA/Ba,SAACjB,EAAKe,GACf,IACI,IAAMd,EAAkBI,KAAKa,UAAUH,GACvCb,aAAaiB,QAAQnB,EAAKC,GAC5B,MAAOM,GACLC,QAAQD,MAAM,oBAAqBA,EAAME,UA2B7CW,CAAKV,EAAmB,CAACI,MAAOH,EAAOG,MAAMC,MAAON,QAASE,EAAOF,QAAQM,WAchFJ,EAAOM,iBAAiB,UAXxB,SAAuBI,GACnBA,EAAEC,iBACFd,QAAQe,IAAIxB,EAAKW,IACjBR,aAAasB,WAAWd,GACxBC,EAAOG,MAAMC,MAAQ,GACrBJ,EAAOF,QAAQM,MAAQ,M","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n\nconst save = (key, value) => {\n    try {\n        const serializedState = JSON.stringify(value);\n        localStorage.setItem(key, serializedState);\n    } catch (error) {\n        console.error(\"Set state error: \", error.message);\n    }\n};\n  \nconst load = key => {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.error(\"Get state error: \", error.message);\n    }\n};\n\nconst LOCAL_STORAGE_KEY = \"feedback-form-state\";\nconst formEl = document.querySelector('.feedback-form');\n\nfunction updateForm () {\n    if (localStorage.getItem(LOCAL_STORAGE_KEY)) {\n        formEl.email.value = load(LOCAL_STORAGE_KEY).email;\n        formEl.message.value = load(LOCAL_STORAGE_KEY).message;\n        return;\n    }\n    formEl.email.value = '';\n    formEl.message.value = '';\n}\n\nfunction onInptForm () {\n    save(LOCAL_STORAGE_KEY, {email: formEl.email.value, message: formEl.message.value});\n}\n\nfunction onSubmitForm (e) {\n    e.preventDefault();\n    console.log(load(LOCAL_STORAGE_KEY));\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    formEl.email.value = '';\n    formEl.message.value = '';\n}\n\nupdateForm();\n// formEl.addEventListener('input', throttle(onInptForm, [wait=500]));\nformEl.addEventListener('input', onInptForm);\nformEl.addEventListener('submit', onSubmitForm);"],"names":["$b00c40859be242c5$var$load","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","$b00c40859be242c5$var$LOCAL_STORAGE_KEY","$b00c40859be242c5$var$formEl","document","querySelector","email","value","$b00c40859be242c5$var$updateForm","addEventListener","stringify","setItem","$b00c40859be242c5$var$save","e","preventDefault","log","removeItem"],"version":3,"file":"03-feedback.24df0e0b.js.map"}