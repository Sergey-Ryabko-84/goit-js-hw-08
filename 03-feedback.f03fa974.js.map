{"mappings":"AAEA,MASMA,EAAOC,IACT,IACI,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,GAC3D,MAAOM,GACLC,QAAQD,MAAM,oBAAqBA,EAAME,WAK3CC,EAASC,SAASC,cAAc,mBAEtC,WACI,GAAIV,aAAaC,QAJK,uBAOlB,OAFAO,EAAOG,MAAMC,MAAQf,EALH,uBAK2Bc,WAC7CH,EAAOD,QAAQK,MAAQf,EANL,uBAM6BU,SAGnDC,EAAOG,MAAMC,MAAQ,GACrBJ,EAAOD,QAAQK,MAAQ,GAe3BC,GAEAL,EAAOM,iBAAiB,SAdxB,WA/Ba,EAAChB,EAAKc,KACf,IACI,MAAMb,EAAkBI,KAAKY,UAAUH,GACvCZ,aAAagB,QAAQlB,EAAKC,GAC5B,MAAOM,GACLC,QAAQD,MAAM,oBAAqBA,EAAME,WA2B7CU,CAdsB,sBAcE,CAACN,MAAOH,EAAOG,MAAMC,MAAOL,QAASC,EAAOD,QAAQK,WAchFJ,EAAOM,iBAAiB,UAXxB,SAAuBI,GACnBA,EAAEC,iBACFb,QAAQc,IAAIvB,EAnBU,wBAoBtBG,aAAaqB,WApBS,uBAqBtBb,EAAOG,MAAMC,MAAQ,GACrBJ,EAAOD,QAAQK,MAAQ","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n\nconst save = (key, value) => {\n    try {\n        const serializedState = JSON.stringify(value);\n        localStorage.setItem(key, serializedState);\n    } catch (error) {\n        console.error(\"Set state error: \", error.message);\n    }\n};\n  \nconst load = key => {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.error(\"Get state error: \", error.message);\n    }\n};\n\nconst LOCAL_STORAGE_KEY = \"feedback-form-state\";\nconst formEl = document.querySelector('.feedback-form');\n\nfunction updateForm () {\n    if (localStorage.getItem(LOCAL_STORAGE_KEY)) {\n        formEl.email.value = load(LOCAL_STORAGE_KEY).email;\n        formEl.message.value = load(LOCAL_STORAGE_KEY).message;\n        return;\n    }\n    formEl.email.value = '';\n    formEl.message.value = '';\n}\n\nfunction onInptForm () {\n    save(LOCAL_STORAGE_KEY, {email: formEl.email.value, message: formEl.message.value});\n}\n\nfunction onSubmitForm (e) {\n    e.preventDefault();\n    console.log(load(LOCAL_STORAGE_KEY));\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    formEl.email.value = '';\n    formEl.message.value = '';\n}\n\nupdateForm();\n// formEl.addEventListener('input', throttle(onInptForm, [wait=500]));\nformEl.addEventListener('input', onInptForm);\nformEl.addEventListener('submit', onSubmitForm);"],"names":["$945622fd0f572e60$var$load","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","$945622fd0f572e60$var$formEl","document","querySelector","email","value","$945622fd0f572e60$var$updateForm","addEventListener","stringify","setItem","$945622fd0f572e60$var$save","e","preventDefault","log","removeItem"],"version":3,"file":"03-feedback.f03fa974.js.map"}